/*******************************************************************************
* File         : bsp.c
* Version      : v1.0.0
* Author       : 钟昊翰
* CreateDate   : 2018/1/10
* Description  : 板级初始化
* Change Logs  : 
*******************************************************************************/
/* Includes ------------------------------------------------------------------*/
#include"main.h"
#include"drive.h"
#include"bsp.h"

/* 私有类型 ------------------------------------------------------------------*/
/* 私有定义 ------------------------------------------------------------------*/
/* 私有宏   ------------------------------------------------------------------*/
/* 私有函数 ------------------------------------------------------------------*/
/* 私有常量 ----------------------------------------------------------------- */
/* 私有变量 ------------------------------------------------------------------*/
/* 公有变量 ------------------------------------------------------------------*/

/**
  *功能说明:  上电延时,等待MCU稳定
  */
static void f_PowerOnDelay(void)
{
    uint16_t i = 0;
    for(i=0;i<5000;i++)
    {
        asm("nop");
    }
}

/**
  *功能说明:  板级初始化
  */
void f_BspInit(void)
{
    f_PowerOnDelay();
    
    f_ClockInit();
    
//    f_IWD_Init();
    
//    f_GPIO_Init();
    
//    f_ADC_Init(ADC1_CHANNEL_0);
    
//    f_UART2_Init();
    
//    f_BEEP_Init(BEEP_FREQUENCY_2KHZ);
    
//    f_TIM1_Init();    /* 1s      时基 */
//    f_TIM2_Init();    /* 1/2048s 时基 */  /* 用于蜂鸣器的PWM输出 */
    f_SystickInit();  /* 1ms   时基 */
    
//     等待外设准备就绪
    f_PowerOnDelay();
}


