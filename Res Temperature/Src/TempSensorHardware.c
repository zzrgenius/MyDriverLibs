/******************************************************************************

                  版权所有 (C), 2008-2018, 杭州信多达电器有限公司

 ******************************************************************************
  文 件 名   : TempSensorHardware.c
  版 本 号   : V1.0
  作    者   : 钱百静
  生成日期   : 2018年5月7日
  最近修改   :
  功能描述   : 温度传感器硬件驱动部分，用于获取AD、通-
                   道、阻值表等
  函数列表   :
  修改历史   :
  1.日    期   : 2018年5月7日
    作    者   : 钱百静
    修改内容   : 创建文件

******************************************************************************/

/*----------------------------------------------*
 * 包含头文件                                        *
 *----------------------------------------------*/
#include "TempSensorHardware.h"
#include "IO_Define.h"

/*----------------------------------------------*
 * 外部变量说明                                       *
 *----------------------------------------------*/

/*----------------------------------------------*
 * 外部函数原型说明                                     *
 *----------------------------------------------*/

/*----------------------------------------------*
 * 内部函数原型说明                                     *
 *----------------------------------------------*/

/*----------------------------------------------*
 * 全局变量                                         *
 *----------------------------------------------*/

/*----------------------------------------------*
 * 模块级变量                                        *
 *----------------------------------------------*/

/*----------------------------------------------*
 * 常量定义                                         *
 *----------------------------------------------*/
//0位置 开路值;max位置短值
const uint Tab_NTC_3950_Up[]=
{
	//3950-10上拉10K
	1000,//传感器开路值	
	781, 772, 763, 753, 743, 733, 723, 712, 702, 691, //0~9
	681, 670, 659, 648, 637, 625, 614, 603, 591, 580, //10~19
	569, 557, 546, 535, 523, 512, 501, 490, 479, 468, //20~29
	457, 446, 435, 425, 415, 404, 394, 384, 375, 365, //30~39
	355, 346, 337, 328, 319, 311, 302, 294, 286, 278, //40~49
	270, 263, 256, 248, 241, 235, 228, 221, 215, 209, //50~59
	203, 197, 192, 186, 181, 176, 171, 166, 161, 156, //60~69
	152, 147, 143, 139, 135, 131, 127, 124, 120, 117, //70~79
	114, 110, 107, 104, 101,  98,  96,  93,  90,  88, //80~89
	85, //90
	10//传感器短路值
};

/*----------------------------------------------*
 * 宏定义                                          *
 *----------------------------------------------*/
//风温硬件驱动
const TEMP_SENSOR_HARDWARE windTempHarware = 
{
	WIND_TEMP_AD_CHANNEL, //通道
	3, //需要滤波次数
	Tab_NTC_3950_Up, //温度阻值表
	sizeof(Tab_NTC_3950_Up) / sizeof(Tab_NTC_3950_Up[0]), //表大小
	0, //基础最小温度
	true, //是否上拉
	f_MCU_GetAD, //AD采样函数
	DEGREE_TEMP_1 //精度1度
};


